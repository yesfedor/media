(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["watch"],{"41e7":function(t,e,s){"use strict";s("aade")},"4eb8":function(t,e,s){"use strict";s.r(e);s("a4d3"),s("e01a");var c=s("7a23"),i={class:"container-fluid"},a={class:"row my-3"},n={class:"col-12 col-md-10 offset-md-1"},o={class:"row"},r={class:"col-12 col-xl-9 mt-3 zi10"},l={class:"row"},p={class:"col-12 ratio ratio-16x9"},b={class:"col-12 px-3 px-md-0"},u={class:"w-75 text-start theme-title text-capitalize mt-3 mb-0 float-start"},d={class:"w-25 text-end text-muted mt-3 mb-0 float-end"},g=Object(c["g"])("hr",{class:"w-100 theme-border-white mt-3 mb-3"},null,-1),h={class:"col-12 col-lg-6 px-0 text-center text-lg-start"},m={class:"theme-text my-2"},j={class:"col-12 col-lg-6 px-0 text-center text-lg-end mt-3 mt-lg-0"},O=Object(c["g"])("a",{href:"https://go.iny.su/donate",target:"_blank",class:"btn btn-outline-info btn-rounded me-3"},"Донат",-1),f={class:"col-12 px-0 my-3"},y={class:"list-group list-group-flush rounded"},x={class:"list-group-item theme-panel theme-text"},v=Object(c["g"])("span",{class:"float-start w-50 text-start theme-title"},"Год производства",-1),w={class:"float-end w-50 text-start"},k={class:"list-group-item theme-panel theme-text"},_=Object(c["g"])("span",{class:"float-start w-50 text-start theme-title"},"Страна",-1),S={class:"float-end w-50 text-start"},R={class:"list-group-item theme-panel theme-text"},E=Object(c["g"])("span",{class:"float-start w-50 text-start theme-title"},"Жанр",-1),L={class:"float-end w-50 text-start"},$={class:"list-group-item theme-panel theme-text"},A=Object(c["g"])("span",{class:"float-start w-50 text-start theme-title"},"Слоган",-1),C={class:"float-end w-50 text-start"},N={class:"list-group-item theme-panel theme-text"},K=Object(c["g"])("span",{class:"float-start w-50 text-start theme-title"},"Время",-1),T={class:"float-end w-50 text-start"},U={class:"list-group-item theme-panel theme-text"},W={class:"text-start theme-title"},D=Object(c["f"])("Описание:"),I=Object(c["g"])("br",null,null,-1),z={class:"col-12 theme-panel rounded text-center py-3 my-3"},J=Object(c["g"])("h4",{class:"text-center text-center theme-title py-3 mb-3"},"Факты",-1),q={class:"row"},F={class:"theme-link"},H={class:"col-12 col-xl-3 mt-3 zi10"},M=Object(c["g"])("div",{class:"row"},[Object(c["g"])("div",{class:"col-12 text-center mb-3 ps-5"},[Object(c["g"])("h4",{class:"my-0 py-3"},"Рекомендации")])],-1),V={class:"row"};function B(t,e,s,B,G,P){var Q=Object(c["w"])("AppCart");return Object(c["p"])(),Object(c["d"])("div",i,[Object(c["g"])("div",{class:"d-none d-lg-block bg-poster-image animated fadeIn",style:t.poster_css},null,4),Object(c["g"])("div",a,[Object(c["g"])("div",n,[Object(c["g"])("div",o,[Object(c["g"])("div",r,[Object(c["g"])("div",l,[Object(c["g"])("div",p,[Object(c["g"])("iframe",{src:P.getSrc(),frameborder:"0",scrolling:"no",allowfullscreen:"",referrerpolicy:"origin"},null,8,["src"])]),Object(c["g"])("div",b,[Object(c["g"])("h4",u,Object(c["y"])(t.type)+" "+Object(c["y"])(t.title),1),Object(c["g"])("h4",d,Object(c["y"])(t.ratingAgeLimits),1)]),g,Object(c["g"])("div",h,[Object(c["g"])("h4",m,"Информация к "+Object(c["y"])(t.type)+"у",1)]),Object(c["g"])("div",j,[O,Object(c["g"])("button",{onClick:e[1]||(e[1]=function(){return P.subscriptions&&P.subscriptions.apply(P,arguments)}),title:t.subscriptionCount,class:["btn",t.is_subscriptions?"btn-outline-primary":"btn-outline-danger","btn-rounded","theme-duration","ms-3"]},Object(c["y"])(t.text_subscriptions),11,["title"])]),Object(c["g"])("div",f,[Object(c["g"])("ul",y,[Object(c["g"])("li",x,[v,Object(c["g"])("span",w,Object(c["y"])(t.year),1)]),Object(c["g"])("li",k,[_,Object(c["g"])("span",S,Object(c["y"])(t.text_countries),1)]),Object(c["g"])("li",R,[E,Object(c["g"])("span",L,Object(c["y"])(t.text_genres),1)]),Object(c["g"])("li",$,[A,Object(c["g"])("span",C,Object(c["y"])((t.slogan,t.slogan)),1)]),Object(c["g"])("li",N,[K,Object(c["g"])("span",T,Object(c["y"])(t.filmLength),1)]),Object(c["g"])("li",U,[Object(c["g"])("span",W,[D,I,Object(c["f"])(Object(c["y"])(t.description),1)])])])]),Object(c["g"])("div",z,[J,Object(c["g"])("div",q,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(t.facts,(function(t,e){return Object(c["p"])(),Object(c["d"])("h5",{key:"fact"+e,class:"d-block theme-text text-start px-3 mb-3"},[Object(c["g"])("span",F,"#"+Object(c["y"])(e+1),1),Object(c["f"])(" "+Object(c["y"])(t),1)])})),128))])])])]),Object(c["g"])("div",H,[M,Object(c["g"])("div",V,[(Object(c["p"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(t.watchDataRecoms,(function(t){return Object(c["p"])(),Object(c["d"])(Q,{key:t.filmId,state:"max-content",type:t.type,kpid:t.filmId,title:t.nameRu,year:t.year},null,8,["type","kpid","title","year"])})),128))])])])])])])}s("99af"),s("4160"),s("a15b"),s("159b");var G=s("20c9"),P=s("bc3a"),Q={name:"Watch",components:{AppCart:G["a"]},data:function(){return{kpid:"",type:"",title:"",poster_css:"",year:"",ratingAgeLimits:"14+",is_subscriptions:!1,text_subscriptions:"",text_countries:"",text_genres:"",slogan:"",filmLength:"",description:"",facts:[],watchDataRecoms:[],subscriptionCount:""}},methods:{subscriptions:function(){this.is_subscriptions?(P.get("https://iny.su/api.php?_action=media.subscription&v=0.1&kpid=".concat(this.kpid,"&act=unsubscribe&jwt=").concat(this.$store.getters.USER_TOKEN)),this.is_subscriptions=!1,this.text_subscriptions="Подписаться"):(P.get("https://iny.su/api.php?_action=media.subscription&v=0.1&kpid=".concat(this.kpid,"&act=subscribe&jwt=").concat(this.$store.getters.USER_TOKEN)),this.is_subscriptions=!0,this.text_subscriptions="Отписаться")},getSrc:function(){return"https://dud.allohalive.com/?kp="+this.kpid+"&amp;token=10b16a40f5793e2d02d06265c13912"}},mounted:function(){var t=this;document.title="Watch",this.kpid=this.$route.query.kpid,this.poster_css="background-image: url(https://kinopoiskapiunofficial.tech/images/posters/kp/"+this.kpid+".jpg);",this.kpid||this.$router.push("/main"),P.get("https://iny.su/api/0.1/media/mediaWatchRecoms.json").then((function(e){t.watchDataRecoms=e.data})),this.$store.getters.USER_TOKEN?P.get("https://iny.su/api.php?_action=media.watch&v=0.1&kpid=".concat(this.kpid,"&jwt=").concat(this.$store.getters.USER_TOKEN)).then((function(e){var s=e.data.watchData,c=e.data.is_subscription;switch(t.subscriptionCount=e.data.subscriptionCount,"subscribe"==c?(t.is_subscriptions=!0,t.text_subscriptions="Отписаться"):(t.is_subscriptions=!1,t.text_subscriptions="Подписаться"),s.data.type){case"FILM":case"UNKNOWN":t.type="фильм";break;case"TV_SHOW":t.type="сериал";break}document.title=s.data.nameRu+", "+s.data.year,t.title=s.data.nameRu||"Название",t.year=s.data.year||"Название";var i=[];s.data.countries.forEach((function(t){i.push(t.country)})),t.text_countries=i.join(", ");var a=[];s.data.genres.forEach((function(t){a.push(t.genre)})),t.text_genres=a.join(", "),t.slogan=s.data.slogan||"-",t.filmLength=s.data.filmLength||"Продолжительность не указана",t.description=s.data.description||"Описание не добавлено",t.facts=s.data.facts||["Факты еще не подобраны"],t.ratingAgeLimits=s.data.ratingAgeLimits+"+"||!1})):this.$router.push("/auth?to=/watch?kpid=".concat(this.kpid))}};s("41e7");Q.render=B;e["default"]=Q},a15b:function(t,e,s){"use strict";var c=s("23e7"),i=s("44ad"),a=s("fc6a"),n=s("a640"),o=[].join,r=i!=Object,l=n("join",",");c({target:"Array",proto:!0,forced:r||!l},{join:function(t){return o.call(a(this),void 0===t?",":t)}})},aade:function(t,e,s){},e01a:function(t,e,s){"use strict";var c=s("23e7"),i=s("83ab"),a=s("da84"),n=s("5135"),o=s("861d"),r=s("9bf2").f,l=s("e893"),p=a.Symbol;if(i&&"function"==typeof p&&(!("description"in p.prototype)||void 0!==p().description)){var b={},u=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof u?new p(t):void 0===t?p():p(t);return""===t&&(b[e]=!0),e};l(u,p);var d=u.prototype=p.prototype;d.constructor=u;var g=d.toString,h="Symbol(test)"==String(p("test")),m=/^Symbol\((.*)\)[^)]+$/;r(d,"description",{configurable:!0,get:function(){var t=o(this)?this.valueOf():this,e=g.call(t);if(n(b,t))return"";var s=h?e.slice(7,-1):e.replace(m,"$1");return""===s?void 0:s}}),c({global:!0,forced:!0},{Symbol:u})}}}]);
//# sourceMappingURL=watch.dcba0b7c.js.map